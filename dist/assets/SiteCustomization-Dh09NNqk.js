import{c as P,r as n,j as e,X as V,w as ie,x as ce,y as w,z as F,R as de,B as ue,D as me,d as xe,E as Y,F as ge,G as Z,H as he,I as be,J as fe,K as pe,L as ye,O as ke,Q as ve,T as je,V as Ne,W as we,Y as Ce,Z as Te,_ as Se}from"./index-DHz37_S4.js";import{r as ne}from"./index-DNKOsHx1.js";import{U as ee}from"./upload-B5bgnvYU.js";import{T as Le}from"./triangle-alert-CQbwQLWo.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],Ee=P("bold",Me);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Re=P("circle-check",$e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],Ie=P("italic",Be);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Fe=P("loader-circle",Ae);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Ue=P("palette",_e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],Pe=P("strikethrough",Ge),te='a[href], button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled]), [tabindex]:not([tabindex="-1"])',De=typeof window<"u"?n.useLayoutEffect:n.useEffect,ae=s=>typeof window<"u"&&window.CSS&&typeof window.CSS.escape=="function"?window.CSS.escape(s):s.replace(/"/g,'"'),Oe=({title:s,onClose:o,children:y,footer:u,anchor:j,elementId:h})=>{const C=n.useId(),d=n.useRef(null),[l,c]=n.useState({top:0,left:0}),[m,E]=n.useState("top"),[L,_]=n.useState(!1),[D,v]=n.useState(!1),[R,U]=n.useState(null);n.useEffect(()=>{_(!0)},[]);const i=n.useCallback(()=>{if(typeof window>"u")return;const x=d.current;if(!x)return;const f=`[data-element-id="${ae(h)}"]`,b=document.querySelector(f),p=(b==null?void 0:b.getBoundingClientRect())??j,{width:k,height:N}=x.getBoundingClientRect(),I=document.documentElement.clientWidth,$=window.innerHeight,S=16,A=12;if(!p){const t=Math.max(S,(I-k)/2),r=Math.max(S,($-N)/2);c({top:r,left:t}),E("top"),v(!0),U(null);return}let M=p.top-N-A,B="top";if(M<S&&(M=p.bottom+A,B="bottom"),M+N>$-S){const t=p.top-S,r=$-p.bottom-S;t>r?(M=Math.max(S,p.top-N-A),B="top"):(M=Math.min($-N-S,p.bottom+A),B="bottom")}const G=p.left+p.width/2-k/2,H=I-k-S,O=Math.max(S,Math.min(G,H));c({top:M,left:O}),E(B),v(!0);const W=Math.max(O+12,Math.min(p.left+p.width/2,O+k-12)),a=B==="top"?M+N-6:M-6;U({top:a,left:W-6})},[j,h]);return De(()=>{L&&i()},[i,L]),n.useEffect(()=>{if(!L)return;const x=()=>i();window.addEventListener("scroll",x,!0),window.addEventListener("resize",x);const f=`[data-element-id="${ae(h)}"]`,b=document.querySelector(f),p=[];if(typeof ResizeObserver<"u"){const k=new ResizeObserver(()=>i());b&&k.observe(b);const N=d.current;N&&k.observe(N),p.push(k)}return()=>{window.removeEventListener("scroll",x,!0),window.removeEventListener("resize",x),p.forEach(k=>k.disconnect())}},[i,h,L]),n.useEffect(()=>{if(!L)return;const x=f=>{if(f.key==="Escape"){f.preventDefault(),o();return}if(f.key==="Tab"){const b=d.current;if(!b)return;const p=Array.from(b.querySelectorAll(te)).filter(I=>I.tabIndex!==-1&&!I.hasAttribute("disabled")&&!I.getAttribute("aria-hidden"));if(p.length===0){f.preventDefault(),b.focus();return}const k=p[0],N=p[p.length-1];if(f.shiftKey){(document.activeElement===k||!b.contains(document.activeElement))&&(f.preventDefault(),N.focus());return}document.activeElement===N&&(f.preventDefault(),k.focus())}};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[o,L]),n.useEffect(()=>{if(!L)return;const x=d.current;if(!x)return;const f=Array.from(x.querySelectorAll(te));f.length>0&&f[0].focus()},[L]),L?ne.createPortal(e.jsxs("div",{ref:d,role:"dialog","aria-modal":"true","aria-labelledby":C,tabIndex:-1,className:`fixed z-50 w-full max-w-md rounded-lg bg-white p-4 shadow-xl focus:outline-none dark:bg-gray-800
        ${D?"opacity-100":"opacity-0 pointer-events-none"}`,style:{top:l.top,left:l.left},children:[e.jsx("div",{className:`absolute h-3 w-3 rotate-45 bg-white dark:bg-gray-800
          ${m==="top"?"bottom-[-6px]":"top-[-6px]"}`,style:{left:R==null?void 0:R.left,top:R==null?void 0:R.top}}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{id:C,className:"text-lg font-semibold text-gray-900 dark:text-white",children:s}),e.jsxs("button",{type:"button",onClick:o,className:"rounded-md p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 dark:text-gray-500 dark:hover:bg-gray-700 dark:hover:text-gray-400",children:[e.jsx("span",{className:"sr-only",children:"Close editor"}),e.jsx(V,{className:"h-5 w-5","aria-hidden":"true"})]})]}),e.jsx("div",{className:"mt-4 space-y-4 overflow-y-auto max-h-[70vh] pr-2",children:y}),e.jsx("div",{className:"mt-4 flex justify-end border-t border-gray-200 pt-4 dark:border-gray-700",children:u})]}),document.body):null},g=({id:s,label:o,onEdit:y,as:u="div",children:j,...h})=>e.jsx(u,{"data-element-id":s,onClick:C=>{C.stopPropagation(),y(s,"text")},...h,children:j}),re=({siteContent:s,onEdit:o,selectedElement:y,globalStyle:u})=>{ie(s.assets.library);const j=n.useMemo(()=>{const l=new Map;return s.zones.forEach(c=>{l.set(c.id,ce(c,s.assets.library))}),l},[s.zones,s.assets.library]),h=n.useMemo(()=>{const l={};return s.elements.forEach(c=>{l[c.id]=w(c.id,u)}),l},[s.elements,u]),C=n.useMemo(()=>{const l={};return s.elements.forEach(c=>{l[c.id]=c.richText||""}),l},[s.elements]),d=n.useCallback(l=>{switch(l.type){case"header":return e.jsx("header",{className:`relative w-full ${y===l.id?"border-2 border-blue-500":""}`,style:j.get(l.id),onClick:()=>o(l.id,"zone"),children:e.jsxs("div",{className:"container mx-auto flex justify-between items-center p-4",children:[e.jsx(g,{id:"navigation.brand",label:"Modifier le nom de la marque",onEdit:o,as:"span",className:"login-brand__name",style:w("navigation.brand",u),children:s.navigation.brand}),e.jsx("nav",{children:e.jsxs("ul",{className:"flex space-x-4",children:[e.jsx("li",{children:e.jsx(g,{id:"navigation.links.home",label:"Modifier le lien Accueil",onEdit:o,as:"span",className:"inline-flex",style:w("navigation.links.home",u),children:s.navigation.links.home.text})}),e.jsx("li",{children:e.jsx(g,{id:"navigation.links.menu",label:"Modifier le lien Menu",onEdit:o,as:"span",className:"inline-flex",style:w("navigation.links.menu",u),children:s.navigation.links.menu.text})}),e.jsx("li",{children:e.jsx(g,{id:"navigation.links.contact",label:"Modifier le lien Contact",onEdit:o,as:"span",className:"inline-flex",style:w("navigation.links.contact",u),children:s.navigation.links.contact.text})})]})})]})});case"hero":return e.jsxs("section",{className:`relative h-screen flex items-center justify-center text-white ${y===l.id?"border-2 border-blue-500":""}`,style:j.get(l.id),onClick:()=>o(l.id,"zone"),children:[e.jsx("img",{src:s.hero.backgroundImage,alt:"Hero Background",className:"absolute inset-0 w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50"}),e.jsxs("div",{className:"relative z-10 text-center p-4",children:[e.jsx(g,{id:"hero.title",label:"Modifier le titre du Hero",onEdit:o,as:"h1",className:"text-5xl font-bold mb-4",style:w("hero.title",u),children:s.hero.title}),e.jsx(g,{id:"hero.subtitle",label:"Modifier le sous-titre du Hero",onEdit:o,as:"p",className:"text-xl mb-8",style:w("hero.subtitle",u),children:s.hero.subtitle}),e.jsx(g,{id:"hero.ctaButtonText",label:"Modifier le texte du bouton CTA",onEdit:o,as:"button",className:"bg-brand-primary hover:bg-brand-secondary text-white font-bold py-3 px-8 rounded-full text-lg",style:w("hero.ctaButtonText",u),children:s.hero.ctaButtonText})]})]});case"about":return e.jsx("section",{className:`py-16 ${y===l.id?"border-2 border-blue-500":""}`,style:j.get(l.id),onClick:()=>o(l.id,"zone"),children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx(g,{id:"about.title",label:"Modifier le titre À Propos",onEdit:o,as:"h2",className:"text-4xl font-bold mb-8",style:w("about.title",u),children:s.about.title}),e.jsx(g,{id:"about.description",label:"Modifier la description À Propos",onEdit:o,as:"p",className:"text-lg leading-relaxed max-w-3xl mx-auto",style:F("about.description",u),children:s.about.description})]})});case"menu":return e.jsx("section",{className:`py-16 ${y===l.id?"border-2 border-blue-500":""}`,style:j.get(l.id),onClick:()=>o(l.id,"zone"),children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx(g,{id:"menu.title",label:"Modifier le titre du Menu",onEdit:o,as:"h2",className:"text-4xl font-bold mb-8",style:w("menu.title",u),children:s.menu.title}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mt-8",children:s.menu.items.map((c,m)=>e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[e.jsx("img",{src:c.image,alt:c.name,className:"w-full h-48 object-cover rounded-md mb-4"}),e.jsx(g,{id:`menu.items.${m}.name`,label:`Modifier le nom de l'élément de menu ${m+1}`,onEdit:o,as:"h3",className:"text-2xl font-bold mb-2",style:w(`menu.items.${m}.name`,u),children:c.name}),e.jsx(g,{id:`menu.items.${m}.description`,label:`Modifier la description de l'élément de menu ${m+1}`,onEdit:o,as:"p",className:"text-gray-600 mb-4",style:F(`menu.items.${m}.description`,u),children:c.description}),e.jsx(g,{id:`menu.items.${m}.price`,label:`Modifier le prix de l'élément de menu ${m+1}`,onEdit:o,as:"span",className:"text-xl font-semibold text-brand-primary",style:w(`menu.items.${m}.price`,u),children:c.price})]},m))})]})});case"testimonials":return e.jsx("section",{className:`py-16 bg-gray-100 ${y===l.id?"border-2 border-blue-500":""}`,style:j.get(l.id),onClick:()=>o(l.id,"zone"),children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx(g,{id:"testimonials.title",label:"Modifier le titre des Témoignages",onEdit:o,as:"h2",className:"text-4xl font-bold mb-8",style:w("testimonials.title",u),children:s.testimonials.title}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mt-8",children:s.testimonials.items.map((c,m)=>e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[e.jsx(g,{id:`testimonials.items.${m}.quote`,label:`Modifier la citation du témoignage ${m+1}`,onEdit:o,as:"p",className:"text-lg italic mb-4",style:F(`testimonials.items.${m}.quote`,u),children:c.quote}),e.jsxs(g,{id:`testimonials.items.${m}.author`,label:`Modifier l'auteur du témoignage ${m+1}`,onEdit:o,as:"p",className:"font-bold text-brand-primary",style:w(`testimonials.items.${m}.author`,u),children:["- ",c.author]})]},m))})]})});case"gallery":return e.jsx("section",{className:`py-16 ${y===l.id?"border-2 border-blue-500":""}`,style:j.get(l.id),onClick:()=>o(l.id,"zone"),children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx(g,{id:"gallery.title",label:"Modifier le titre de la Galerie",onEdit:o,as:"h2",className:"text-4xl font-bold mb-8",style:w("gallery.title",u),children:s.gallery.title}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-8",children:s.gallery.images.map((c,m)=>e.jsx("div",{className:"overflow-hidden rounded-lg shadow-lg",children:e.jsx("img",{src:c.src,alt:c.alt,className:"w-full h-64 object-cover"})},m))})]})});case"contact":return e.jsx("section",{className:`py-16 bg-gray-100 ${y===l.id?"border-2 border-blue-500":""}`,style:j.get(l.id),onClick:()=>o(l.id,"zone"),children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx(g,{id:"contact.title",label:"Modifier le titre Contact",onEdit:o,as:"h2",className:"text-4xl font-bold mb-8",style:w("contact.title",u),children:s.contact.title}),e.jsxs("div",{className:"max-w-xl mx-auto text-lg space-y-4",children:[e.jsx(g,{id:"contact.address",label:"Modifier l'adresse",onEdit:o,as:"p",style:F("contact.address",u),children:s.contact.address}),e.jsx(g,{id:"contact.phone",label:"Modifier le numéro de téléphone",onEdit:o,as:"p",style:F("contact.phone",u),children:s.contact.phone}),e.jsx(g,{id:"contact.email",label:"Modifier l'email",onEdit:o,as:"p",style:F("contact.email",u),children:s.contact.email}),e.jsx(g,{id:"contact.hours",label:"Modifier les heures d'ouverture",onEdit:o,as:"p",style:F("contact.hours",u),children:s.contact.hours})]}),e.jsx("div",{className:"mt-8",children:e.jsx(g,{id:"contact.mapLinkText",label:"Modifier le texte du lien de la carte",onEdit:o,as:"a",href:s.contact.findUsMapUrl,target:"_blank",rel:"noopener noreferrer",className:"text-brand-primary hover:underline",style:w("contact.mapLinkText",u),children:s.contact.mapLinkText})})]})});case"footer":return e.jsx("footer",{className:`py-8 bg-gray-800 text-white text-center ${y===l.id?"border-2 border-blue-500":""}`,style:j.get(l.id),onClick:()=>o(l.id,"zone"),children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx(g,{id:"footer.copyright",label:"Modifier le texte de copyright",onEdit:o,as:"p",className:"text-sm",style:F("footer.copyright",u),children:s.footer.copyright})})});default:return null}},[s,o,y,j,h,C,u]);return e.jsx("div",{className:"relative min-h-screen bg-gray-50 font-sans",children:s.zones.map(l=>e.jsx(de.Fragment,{children:d(l)},l.id))})},z="inline-flex h-8 w-8 items-center justify-center rounded-full border border-slate-200 bg-white text-slate-600 transition hover:border-brand-primary/50 hover:text-brand-primary focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-brand-primary disabled:opacity-50",qe=({id:s,value:o,fallback:y,onChange:u,className:j,placeholder:h})=>{const C=n.useRef(null),[d,l]=n.useState(()=>((o==null?void 0:o.plainText)??y).trim().length===0),c=()=>{const i=C.current;if(!i){l(!0);return}const x=i.textContent??"";l(x.trim().length===0)};n.useEffect(()=>{const i=C.current;if(i){if(o&&typeof o.html=="string"){i.innerHTML!==o.html&&(i.innerHTML=o.html),c();return}i.textContent!==y&&(i.textContent=y,c())}},[o,y]);const m=()=>{const i=C.current;if(!i){u(null),l(!0);return}const x=i.innerHTML,f=i.innerText,b=ue({html:x,plainText:f});u(b),c()},E=i=>{var x;document.execCommand("styleWithCSS",!1,"false"),document.execCommand(i),(x=C.current)==null||x.focus(),m()},L=i=>{var f;const x=i.target.value;document.execCommand("styleWithCSS",!1,"true"),document.execCommand("foreColor",!1,x),(f=C.current)==null||f.focus(),m()},_=()=>{var i;document.execCommand("removeFormat"),document.execCommand("unlink"),(i=C.current)==null||i.focus(),m()},D=()=>{m()},v=()=>{m()},R=i=>{i.preventDefault();const x=i.clipboardData.getData("text/plain");document.execCommand("insertText",!1,x),m()},U=i=>{if((i.metaKey||i.ctrlKey)&&i.key.toLowerCase()==="b"){i.preventDefault(),E("bold");return}if((i.metaKey||i.ctrlKey)&&i.key.toLowerCase()==="i"){i.preventDefault(),E("italic");return}(i.metaKey||i.ctrlKey)&&i.key.toLowerCase()==="x"&&i.shiftKey&&(i.preventDefault(),E("strikeThrough"))};return e.jsxs("div",{className:`space-y-2 ${j??""}`,children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("button",{type:"button",className:z,onClick:()=>E("bold"),"aria-label":"Mettre en gras",children:e.jsx(Ee,{className:"h-4 w-4","aria-hidden":"true"})}),e.jsx("button",{type:"button",className:z,onClick:()=>E("italic"),"aria-label":"Mettre en italique",children:e.jsx(Ie,{className:"h-4 w-4","aria-hidden":"true"})}),e.jsx("button",{type:"button",className:z,onClick:()=>E("strikeThrough"),"aria-label":"Barrer",children:e.jsx(Pe,{className:"h-4 w-4","aria-hidden":"true"})}),e.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-500",children:[e.jsx(Ue,{className:"h-4 w-4","aria-hidden":"true"}),e.jsx("span",{className:"sr-only",children:"Choisir une couleur"}),e.jsx("input",{type:"color",className:"h-8 w-8 cursor-pointer rounded-full border border-slate-200",onChange:L,"aria-label":"Sélectionner une couleur de texte"})]}),e.jsx("button",{type:"button",className:z,onClick:_,"aria-label":"Supprimer la mise en forme",children:e.jsx(V,{className:"h-4 w-4","aria-hidden":"true"})})]}),e.jsxs("div",{className:"relative",children:[h&&d&&e.jsx("div",{className:"pointer-events-none absolute left-4 top-3 text-sm text-slate-400",children:h}),e.jsx("div",{id:s,ref:C,className:"ui-textarea w-full min-h-[120px] whitespace-pre-wrap break-words px-4 py-3",contentEditable:!0,role:"textbox","aria-multiline":"true",suppressContentEditableWarning:!0,onInput:D,onBlur:v,onKeyDown:U,onPaste:R})]})]})},se=["Inter","Poppins","Roboto","Montserrat","Playfair Display","Lora","Open Sans","Georgia, serif","Arial, sans-serif"],oe=["14px","16px","18px","20px","24px","clamp(1rem, 2vw, 1.5rem)"],J=["#0f172a","#111827","#f8fafc","#ffffff","#e2e8f0","#f97316","transparent","currentColor"],q=new Set(["navigation.brand","navigation.links.home","navigation.links.about","navigation.links.menu","navigation.links.contact","navigation.links.loginCta","hero.title","hero.subtitle","hero.ctaLabel","hero.historyTitle","hero.reorderCtaLabel","about.title","menu.title","menu.ctaLabel","menu.loadingLabel","instagramReviews.title","instagramReviews.subtitle","findUs.title","findUs.addressLabel","findUs.address","findUs.cityLabel","findUs.city","findUs.hoursLabel","findUs.hours","findUs.mapLabel","footer.text"]),X=new Set(["navigation.style.background","hero.style.background","about.style.background","menu.style.background","instagramReviews.style.background","findUs.style.background","footer.style.background"]),Q=new Set(["hero.backgroundImage","about.image","menu.image","instagramReviews.image","navigation.brandLogo","navigation.staffLogo"]),le={"navigation.brand":"Nom de la marque","navigation.brandLogo":"Logo principal","navigation.staffLogo":"Logo d'accès équipe","navigation.links.home":"Lien Accueil","navigation.links.about":"Lien À propos","navigation.links.menu":"Lien Menu","navigation.links.contact":"Lien Contact","navigation.links.loginCta":"Bouton d'accès staff","navigation.style.background":"Fond de la navigation","hero.title":"Titre du hero","hero.subtitle":"Sous-titre du hero","hero.ctaLabel":"Bouton principal du hero","hero.historyTitle":"Titre de l'historique","hero.reorderCtaLabel":"Bouton de réassort","hero.backgroundImage":"Image du hero","hero.style.background":"Fond du hero","about.title":"Titre À propos","about.description":"Texte À propos","about.image":"Image À propos","about.style.background":"Fond À propos","menu.title":"Titre du menu","menu.ctaLabel":"Bouton du menu","menu.loadingLabel":"Texte de chargement du menu","menu.image":"Image du menu","menu.style.background":"Fond du menu","instagramReviews.title":"Titre Avis Instagram","instagramReviews.subtitle":"Sous-titre Avis Instagram","instagramReviews.image":"Image Avis Instagram","instagramReviews.style.background":"Fond Avis Instagram","findUs.title":"Titre Encuéntranos","findUs.addressLabel":"Libellé de l'adresse (Encuéntranos)","findUs.address":"Adresse (Encuéntranos)","findUs.cityLabel":"Libellé de contact","findUs.city":"Email (Encuéntranos)","findUs.hoursLabel":"Libellé des horaires","findUs.hours":"Horaires","findUs.mapLabel":"Libellé du lien carte","findUs.style.background":"Fond Encuéntranos","footer.text":"Texte du pied de page","footer.style.background":"Fond du pied de page"},He=[{id:"preview",label:"Aperçu"},{id:"content",label:"Contenu"},{id:"style",label:"Style"},{id:"theme",label:"Thème global"}],Ze=()=>{const{siteContent:s,updateSiteContent:o,isSaving:y,isError:u,isSuccess:j}=me(),[h,C]=n.useState("preview"),[d,l]=n.useState(null),[c,m]=n.useState(null),[E,L]=n.useState(null),[_,D]=n.useState([]);n.useEffect(()=>{xe.getProducts().then(D)},[]),n.useEffect(()=>{s&&l(Y(s))},[s]);const v=n.useCallback(a=>{l(t=>{if(!t)return null;const r=Y(t);return a(r),r})},[]),R=n.useCallback(()=>{d&&o(d)},[d,o]),U=n.useCallback(()=>{s&&l(Y(s))},[s]),i=n.useCallback((a,t)=>{m(a),L(ge(t))},[]),x=n.useCallback(()=>{m(null),L(null)},[]),f=n.useCallback((a,t)=>{v(r=>Z(r,a,t))},[v]),b=n.useCallback((a,t)=>{v(r=>he(r,a,t))},[v]),p=n.useCallback((a,t)=>{v(r=>be(r,a,t))},[v]),k=n.useCallback((a,t)=>{v(r=>fe(r,a,t))},[v]),N=n.useCallback(async(a,t)=>{try{const r=await pe(t),T=ye(t,r.url);v(K=>{ke(K,T),Z(K,a,ve(r.url))})}catch(r){notificationService.showError("Error uploading image:",r)}},[v]),I=n.useCallback(a=>{v(t=>Z(t,a,null))},[v]),$=n.useCallback((a,t)=>{v(r=>{r.globalStyle||(r.globalStyle={}),r.globalStyle[a]=t})},[v]),S=n.useCallback(a=>{if(!d)return null;const t=je(d,a);return e.jsx("input",{type:"text",value:t,onChange:r=>f(a,r.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white"})},[d,f]),A=n.useCallback(a=>{if(!d)return null;const t=Ne(d,a);return e.jsx(qe,{value:t,onChange:r=>p(a,r)})},[d,p]),M=n.useCallback(a=>{if(!d)return null;const t=we(d,a);return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:`${a}-font-family`,className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Police de caractères"}),e.jsxs("select",{id:`${a}-font-family`,value:t.fontFamily??"",onChange:r=>b(a,{fontFamily:r.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 py-2 pl-3 pr-10 text-base focus:border-orange-500 focus:outline-none focus:ring-orange-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white sm:text-sm",children:[e.jsx("option",{value:"",children:"Défaut"}),se.map(r=>e.jsx("option",{value:r,children:r},r))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:`${a}-font-size`,className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Taille de police"}),e.jsxs("select",{id:`${a}-font-size`,value:t.fontSize??"",onChange:r=>b(a,{fontSize:r.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 py-2 pl-3 pr-10 text-base focus:border-orange-500 focus:outline-none focus:ring-orange-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white sm:text-sm",children:[e.jsx("option",{value:"",children:"Défaut"}),oe.map(r=>e.jsx("option",{value:r,children:r},r))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:`${a}-text-color`,className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Couleur du texte"}),e.jsxs("div",{className:"relative mt-1 rounded-md shadow-sm",children:[e.jsx("input",{type:"color",id:`${a}-text-color-picker`,value:t.textColor??"#000000",onChange:r=>b(a,{textColor:r.target.value}),className:"absolute inset-y-0 left-0 w-8 h-full opacity-0 cursor-pointer"}),e.jsx("input",{type:"text",id:`${a}-text-color`,value:t.textColor??"",onChange:r=>b(a,{textColor:r.target.value}),className:"block w-full rounded-md border-gray-300 pl-10 focus:border-orange-500 focus:ring-orange-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white sm:text-sm",placeholder:"#RRGGBB ou nom de couleur"}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:e.jsx("span",{className:"h-4 w-4 rounded-full border border-gray-300 dark:border-gray-600",style:{backgroundColor:t.textColor??"transparent"}})})]}),e.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:J.map(r=>e.jsx("button",{type:"button",onClick:()=>b(a,{textColor:r}),className:"h-6 w-6 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 dark:border-gray-600",style:{backgroundColor:r},"aria-label":`Set text color to ${r}`},r))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:`${a}-background-color`,className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Couleur de fond"}),e.jsxs("div",{className:"relative mt-1 rounded-md shadow-sm",children:[e.jsx("input",{type:"color",id:`${a}-background-color-picker`,value:t.backgroundColor??"#000000",onChange:r=>b(a,{backgroundColor:r.target.value}),className:"absolute inset-y-0 left-0 w-8 h-full opacity-0 cursor-pointer"}),e.jsx("input",{type:"text",id:`${a}-background-color`,value:t.backgroundColor??"",onChange:r=>b(a,{backgroundColor:r.target.value}),className:"block w-full rounded-md border-gray-300 pl-10 focus:border-orange-500 focus:ring-orange-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white sm:text-sm",placeholder:"#RRGGBB ou nom de couleur"}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:e.jsx("span",{className:"h-4 w-4 rounded-full border border-gray-300 dark:border-gray-600",style:{backgroundColor:t.backgroundColor??"transparent"}})})]}),e.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:J.map(r=>e.jsx("button",{type:"button",onClick:()=>b(a,{backgroundColor:r}),className:"h-6 w-6 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 dark:border-gray-600",style:{backgroundColor:r},"aria-label":`Set background color to ${r}`},r))})]})]})},[d,b]),B=n.useCallback(a=>{if(!d)return null;const t=Ce(d,a),r=t.type==="image"?t.value:null;return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:`${a}-background-type`,className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Type de fond"}),e.jsxs("select",{id:`${a}-background-type`,value:t.type,onChange:T=>k(a,{type:T.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 py-2 pl-3 pr-10 text-base focus:border-orange-500 focus:outline-none focus:ring-orange-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white sm:text-sm",children:[e.jsx("option",{value:"color",children:"Couleur"}),e.jsx("option",{value:"image",children:"Image"})]})]}),t.type==="color"&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:`${a}-background-color`,className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Couleur de fond"}),e.jsxs("div",{className:"relative mt-1 rounded-md shadow-sm",children:[e.jsx("input",{type:"color",id:`${a}-background-color-picker`,value:t.value??"#000000",onChange:T=>k(a,{type:"color",value:T.target.value}),className:"absolute inset-y-0 left-0 w-8 h-full opacity-0 cursor-pointer"}),e.jsx("input",{type:"text",id:`${a}-background-color`,value:t.value??"",onChange:T=>k(a,{type:"color",value:T.target.value}),className:"block w-full rounded-md border-gray-300 pl-10 focus:border-orange-500 focus:ring-orange-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white sm:text-sm",placeholder:"#RRGGBB ou nom de couleur"}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:e.jsx("span",{className:"h-4 w-4 rounded-full border border-gray-300 dark:border-gray-600",style:{backgroundColor:t.value??"transparent"}})})]}),e.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:J.map(T=>e.jsx("button",{type:"button",onClick:()=>k(a,{type:"color",value:T}),className:"h-6 w-6 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 dark:border-gray-600",style:{backgroundColor:T},"aria-label":`Set background color to ${T}`},T))})]}),t.type==="image"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Image de fond"}),r?e.jsxs("div",{className:"relative mt-1",children:[e.jsx("img",{src:r,alt:"Background",className:"h-32 w-full object-cover rounded-md"}),e.jsx("button",{type:"button",onClick:()=>k(a,{type:"image",value:null}),className:"absolute top-2 right-2 rounded-full bg-white p-1 shadow-md text-gray-600 hover:text-gray-900","aria-label":"Supprimer l'image de fond",children:e.jsx(V,{size:16})})]}):e.jsx("div",{className:"mt-1 flex justify-center rounded-md border-2 border-dashed border-gray-300 px-6 pt-5 pb-6 dark:border-gray-600",children:e.jsxs("div",{className:"space-y-1 text-center",children:[e.jsx(ee,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsxs("div",{className:"flex text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("label",{htmlFor:`file-upload-${a}`,className:"relative cursor-pointer rounded-md bg-white font-medium text-orange-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-orange-500 focus-within:ring-offset-2 hover:text-orange-500 dark:bg-gray-800",children:[e.jsx("span",{children:"Télécharger un fichier"}),e.jsx("input",{id:`file-upload-${a}`,name:`file-upload-${a}`,type:"file",className:"sr-only",accept:"image/*",onChange:T=>{T.target.files&&T.target.files[0]&&N(a,T.target.files[0])}})]}),e.jsx("p",{className:"pl-1",children:"ou glisser-déposer"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PNG, JPG, GIF jusqu'à 10MB"})]})})]})]})},[d,k,N]),G=n.useCallback(a=>{if(!d)return null;const t=Te(d,a);return e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Image"}),t?e.jsxs("div",{className:"relative mt-1",children:[e.jsx("img",{src:t,alt:"Custom",className:"h-32 w-full object-cover rounded-md"}),e.jsx("button",{type:"button",onClick:()=>I(a),className:"absolute top-2 right-2 rounded-full bg-white p-1 shadow-md text-gray-600 hover:text-gray-900","aria-label":"Supprimer l'image",children:e.jsx(V,{size:16})})]}):e.jsx("div",{className:"mt-1 flex justify-center rounded-md border-2 border-dashed border-gray-300 px-6 pt-5 pb-6 dark:border-gray-600",children:e.jsxs("div",{className:"space-y-1 text-center",children:[e.jsx(ee,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsxs("div",{className:"flex text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("label",{htmlFor:`file-upload-${a}`,className:"relative cursor-pointer rounded-md bg-white font-medium text-orange-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-orange-500 focus-within:ring-offset-2 hover:text-orange-500 dark:bg-gray-800",children:[e.jsx("span",{children:"Télécharger un fichier"}),e.jsx("input",{id:`file-upload-${a}`,name:`file-upload-${a}`,type:"file",className:"sr-only",accept:"image/*",onChange:r=>{r.target.files&&r.target.files[0]&&N(a,r.target.files[0])}})]}),e.jsx("p",{className:"pl-1",children:"ou glisser-déposer"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PNG, JPG, GIF jusqu'à 10MB"})]})})]})},[d,I,N]),H=n.useCallback(()=>{if(!d)return null;const a=d.globalStyle||{};return e.jsxs("div",{className:"space-y-4 p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Couleurs globales"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"primary-color",className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Couleur primaire"}),e.jsxs("div",{className:"relative mt-1 rounded-md shadow-sm",children:[e.jsx("input",{type:"color",id:"primary-color-picker",value:a.primaryColor??"#f97316",onChange:t=>$("primaryColor",t.target.value),className:"absolute inset-y-0 left-0 w-8 h-full opacity-0 cursor-pointer"}),e.jsx("input",{type:"text",id:"primary-color",value:a.primaryColor??"",onChange:t=>$("primaryColor",t.target.value),className:"block w-full rounded-md border-gray-300 pl-10 focus:border-orange-500 focus:ring-orange-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white sm:text-sm",placeholder:"#RRGGBB ou nom de couleur"}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:e.jsx("span",{className:"h-4 w-4 rounded-full border border-gray-300 dark:border-gray-600",style:{backgroundColor:a.primaryColor??"transparent"}})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"secondary-color",className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Couleur secondaire"}),e.jsxs("div",{className:"relative mt-1 rounded-md shadow-sm",children:[e.jsx("input",{type:"color",id:"secondary-color-picker",value:a.secondaryColor??"#f97316",onChange:t=>$("secondaryColor",t.target.value),className:"absolute inset-y-0 left-0 w-8 h-full opacity-0 cursor-pointer"}),e.jsx("input",{type:"text",id:"secondary-color",value:a.secondaryColor??"",onChange:t=>$("secondaryColor",t.target.value),className:"block w-full rounded-md border-gray-300 pl-10 focus:border-orange-500 focus:ring-orange-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white sm:text-sm",placeholder:"#RRGGBB ou nom de couleur"}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:e.jsx("span",{className:"h-4 w-4 rounded-full border border-gray-300 dark:border-gray-600",style:{backgroundColor:a.secondaryColor??"transparent"}})})]})]})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mt-6",children:"Typographie globale"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"global-font-family",className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Police de caractères principale"}),e.jsxs("select",{id:"global-font-family",value:a.fontFamily??"",onChange:t=>$("fontFamily",t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 py-2 pl-3 pr-10 text-base focus:border-orange-500 focus:outline-none focus:ring-orange-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white sm:text-sm",children:[e.jsx("option",{value:"",children:"Défaut"}),se.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"global-font-size",className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Taille de police de base"}),e.jsxs("select",{id:"global-font-size",value:a.fontSize??"",onChange:t=>$("fontSize",t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 py-2 pl-3 pr-10 text-base focus:border-orange-500 focus:outline-none focus:ring-orange-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white sm:text-sm",children:[e.jsx("option",{value:"",children:"Défaut"}),oe.map(t=>e.jsx("option",{value:t,children:t},t))]})]})]})]})},[d,$]),O=n.useMemo(()=>{if(!d)return null;if(h==="preview")return e.jsx(re,{siteContent:d,products:_,onElementClick:i});if(h==="theme")return H();const a=Se.filter(t=>h==="content"?q.has(t)||Q.has(t):h==="style"?q.has(t)||X.has(t):!1);return e.jsx("div",{className:"p-4 space-y-4",children:a.map(t=>e.jsxs("div",{className:"ui-card p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:le[t]||t}),q.has(t)&&h==="content"&&e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Texte"}),t==="about.description"?A(t):S(t)]}),Q.has(t)&&h==="content"&&e.jsx("div",{className:"mb-3",children:G(t)}),q.has(t)&&h==="style"&&e.jsx("div",{className:"mb-3",children:M(t)}),X.has(t)&&h==="style"&&e.jsx("div",{className:"mb-3",children:B(t)})]},t))})},[d,_,h,i,H,S,A,G,M,B]),W=n.useMemo(()=>{if(!c||!d)return null;const a=q.has(c),t=X.has(c),r=Q.has(c);return e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:le[c]||c}),a&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200",children:"Texte"}),c==="about.description"?A(c):S(c)]}),M(c)]}),t&&B(c),r&&G(c)]})},[c,d,S,A,M,B,G]);return e.jsxs("div",{className:"flex h-full flex-col lg:flex-row",children:[e.jsxs("div",{className:"flex w-full flex-col lg:w-1/3 lg:border-r lg:border-gray-200 dark:lg:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 p-4 dark:border-gray-700",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Personnalisation du site"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[y&&e.jsx(Fe,{className:"h-5 w-5 animate-spin text-orange-500"}),j&&e.jsx(Re,{className:"h-5 w-5 text-green-500"}),u&&e.jsx(Le,{className:"h-5 w-5 text-red-500"}),e.jsx("button",{type:"button",onClick:U,className:"rounded-md bg-gray-200 px-3 py-2 text-sm font-medium text-gray-700 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600",children:"Annuler"}),e.jsx("button",{type:"button",onClick:R,className:"rounded-md bg-orange-600 px-3 py-2 text-sm font-medium text-white hover:bg-orange-700",children:"Enregistrer"})]})]}),e.jsx("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:He.map(a=>e.jsx("button",{type:"button",onClick:()=>{C(a.id),x()},className:`flex-1 px-4 py-2 text-center text-sm font-medium ${h===a.id?"border-b-2 border-orange-500 text-orange-600 dark:text-orange-400":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"}
              `,children:a.label},a.id))}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:O})]}),e.jsxs("div",{className:"relative flex-1 bg-gray-100 dark:bg-gray-800",children:[h==="preview"&&d&&e.jsx(re,{siteContent:d,products:_,onElementClick:i,globalStyle:d.globalStyle}),c&&E&&ne.createPortal(e.jsx(Oe,{anchorRect:E,onClose:x,children:W}),document.body)]})]})};export{Ze as default};
